awk所有的操作都是基于`模式-操作`对来完成的，格式：`模式 {操作}`

在awk中的模式有：

- 正则表达式。`~`：与正则表达式匹配，`!~`与正则表达式不匹配
- 关系表达式。关系运算符：`<`, `<=`, `!=`, `==`等
- 组合的模式。`||`, `&&`, `!`
- `模式1,模式2`：从匹配模式1到匹配模式2之间的记录
- BEGIN：在读取输入前执行一次
- END：在读取所有输入后执行

awk选项：

- `F` 指定字段分隔符（默认为空格）
- `f` 运行awk脚本
- `v` 预先为awk程序指定变量

``` Bash
$ awk -F: '{print $1}' /etc/passwd
$ echo | awk -v user=$USER '{print user}'
```

awk常用内置变量：

|变量名|说明|
|---|---|
|`FILENAME`|输入文件名|
|`$0`|当前记录的内容|
|`NF`|当前记录字段数（列数）|
|`$N`|第N个字段|
|`FS`|字段分隔符（默认空格）|
|`RS`|输入记录分隔符（默认为`\n`）|
|`NR`|已经读入的记录数（行数）（读新文件也累加）|
|`FNR`|当前输入文件的记录数。（读新文件先置为1）|
|`OFS`|输出字段分隔符（默认空格）|
|`ORS`|输出字段分隔符（默认`\n`）|
|`ARGC`|命令行参数个数|
|`ARGING`|命令行中当前文件的位置|
|`ARGV`|命令行参数的数组|

格式化打印`printf`：

- `%s`, `%d`, `%f` 字符串，整数，浮点数
- `-宽度.精度%格式`：默认右对齐，`-`左对齐


