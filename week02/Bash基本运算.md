四则运算符：

shell内置使用的运算方式`expr`只能做整数之间的运算，结果也是整数。

注意：运算符两边要有空格，`*`需转义

``` Bash
$ expr 2 + 2
$ expr 3 \* -2
$ expr 9 / 2
$ expr 5 % 2
```

逻辑运算符：

- `&`： 有0取0，无0取前者
- `|`： 若全为0取0，否则取第一个不为0的
- `&&`： 前一个命令执行成功才执行后一个命令
- `||`： 前一个命令执行失败才执行后一个命令

``` Bash
$ expr 0 \& 1
$ expr 0 \| 1
```

关系运算符：成立返回1，不成立返回0，`<`和`>`需转义

``` Bash
$ expr 1 \< 2
$ expr 1 \>= 2
```

`$[ ]` 简单算术运算，已过时

`(( ))` 简单算术运算，里面的变量不需要使用`$`

``` Bash
$ echo $((1+1))
$ a=0
$ ((a+=3))
$ echo $a
```

`let` 进行简单算术运算并赋值

``` Bash
$ let a=1+3
$ echo a
```

`declare` 命令可以声明变量的类型：

- `-i` 声明为整数
- `+i` 声明不为整数

``` Bash
$ declare - i a
$ a+=3
$ echo $a
```

`bc` 命令可以计算浮点数：

``` Bash
$ echo "3+3" | bc
# scale 用于控制显示精度
$ echo "scale=2;1.1*3.3" | bc
```

---

条件判断：

`test 表达式` 或 `[ 表达式 ]`， 二者等价。

- 判断大于，小于，等于：`-gt`, `-lt`, `-eq`
- 判断路径是否为目录，是否存在，是否可读：`-d`, `-e`, `-r`
- 和，或：`-a`, `-o`

``` Bash
$ test 3 -gt 2
# 需要通过$?查看返回值，为真时返回0，为假时返回1
$ echo $?
# 注意[ ]与表达式之间要有空格
$ [ 3 -eq 4 ]
$ [ -d /home ]
$ [ -e /home -o -r /home ]
```

`[[ 表达式 ]]` 类似于`[ 表达式 ]`，可以直接使用比较运算符（比较的是字符串！）和逻辑运算符（不支持`-a`和`-o`），还支持`~=`（匹配正则表达式）。

> [bash中\[\]与\[\[\]\]的区别](http://www.zsythink.net/archives/2252)

> [shell中'-gt'与'>'的区别](http://www.zsythink.net/archives/2224)
---

进制转换：

``` Bash
# 使用bc做进制转换，把ibase进制转为obase进制
$ echo "ibase=10;obase=2;11" | bc
# 将二进制转为十进制
$ echo $((2#1011))
```

随机数：

- `$RANDOM` 产生0\~32767的随机数
- `shuf`命令：`-i` 指定随机数范围，`-n` 指定生成随机数个数

