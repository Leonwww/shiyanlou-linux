## Vim

从普通模式切换到插入模式：

|命令|说明|
|---|---|
|`i`|在光标处进行编辑|
|`a`|在光标后插入编辑|
|`I`|在行首插入|
|`A`|在行末插入|
|`o`|在当前行后插入一个新行|
|`O`|在当前行前插入一个新行|

移动游标：

* `h`, `j`, `k`, `l` 左下上右
* `w` 移动到下一个单词； `b` 移动到上一个单词
* `^` 移到行首非空； `0` 移到行首（HOME）；  `$` 移到行末（END）
* `gg` 移到首行； `G` 移到最后一行； `nG`移至第n行（或`:n`）

删除操作：

|命令|说明|
|---|---|
|`x`|删除游标所在的字符|
|`X`|删除游标所在前一个字符|
|`dd`|删除整行|
|`dw`|删除一个单词|
|`d$`或`D`|删除至行末|
|`d^`|删除至行首|
|`ndd`|删除n行|
|`J`|删除换行符|

`u` 撤销； `Ctrl+R` 重做

复制粘贴：

* `yy` 复制一行; `3yy` 复制3行
* `y$` 复制至行末; `yG` 复制至文本末尾
* `p` 粘贴至游标后； `P` 粘贴至游标前
* `ddp` 将游标所在行与它下面的行交换

搜索：

* `/string` 向下搜索； `?string` 向上搜索
* `n` 下一个搜索结果； `N` 上一个搜索结果
* `:set ignorecase`, `:set noignorecase` 设置是否忽略大小写

保存和退出：

* `w`, `w 文件名` 保存
* `q` 退出
* `!` 强制执行，如`q!`强制退出，`wq!`强制保存退出

编辑多个文件：

``` Bash
$ vim file1 file2
```

* `n` 切换到下一个编辑的文件； `n!` 强制切换
* `N` 切换到上一个编辑的文件； `N!` 强制切换

进入vim后打开新文件：

* `:e file` 打开新文件file
* `:e#` 回到前一个文件
* `:ls` 列出编辑的文件
* `:b file` 进入文件file的编辑界面
* `:bd file` 删除编辑列表里的文件file（不是删除文件file，而是从`:ls`里删除）
* `:e! file` 新打开文件file，放弃正在编辑的文件
* `:f` 显示正在编辑的文件名
* `:f file` 重命名正在编辑的文件为file

多窗口：

* `:new` 打开一个新的视窗并编辑一个新文件
* `:sp file` 打开新的水平分屏视窗来编辑file
* `:vsp file` 打开新的垂直分屏视窗来编辑file

普通模式下，先按`Ctrl+w`，再按以下键可以对视窗进行相应的操作：

* `s`, `v` 水平，垂直分隔视窗； `q` 结束视窗； `o` 打开一个新视窗并隐藏之前的所有视窗
* `h`, `j`, `k`, `l` 移到左，下，上，右的视窗
* `H`, `J`, `K`, `L` 将当前视窗移至左，下，上，右方
* `-`, `+` 减小，增加视窗高度； `<`, `>` 减小，增加视窗宽度。（前面可以加数字）

配置vim：

`:scriptname` 列出vim加载脚本。编辑`~/.vimrc`配置vim

命令行模式：

* `:set nocompatible` 不兼容vi； `:set compatible` 兼容vi
* `:set number`, `:set nu` 显示行号； `:set nonumber`, `:set nonu` 不显示行号
* `:set backup` 生成备份文件； `:set nobackup` 不生成备份文件

编码格式：

* `encoding` vim内部编码，建议设为utf-8
* `fileencoding` 文件编码，可以显示当前文件的编码（`:set fileencoding`）或指定保存时的文件编码（`:set fileencoding=utf-8`）
* `fileencodings` vim会根据这个列表来自动探测文件的编码，建议设置：`:set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1`

可视模式：`v`

替换模式：`R`; `r` 替换游标所在字符

开启选择模式（针对gui版vim）：`:set selectmode+=mouse`

查看vim内置教程：

``` Bash
$ vimtutor
```
